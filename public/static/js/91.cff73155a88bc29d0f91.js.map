{"version":3,"sources":["webpack:///src/views/evaluationAndFeedback/researchProgress.vue","webpack:///./src/views/evaluationAndFeedback/researchProgress.vue?a18e","webpack:///./src/views/evaluationAndFeedback/researchProgress.vue"],"names":["researchProgress","name","components","data","pageTitle","activeIndex","page","classifyId","keyword","pageSize","typeOptions","type","tapOptions","tableData","api","classify","unSubmit","process","stop","discard","created","this","$route","query","classifyAll","initData","mounted","methods","_this","$post","then","res","code","unshift","classifyName","id","_this2","rows","$notify","error","title","duration","message","search","resetTemp","activeTab","index","handleEntering","$router","push","path","stopRow","_this3","$confirm","confirmButtonText","cancelButtonText","formId","success","msg","catch","$message","discardRow","_this4","previewRow","entryType","startAnswer","url","window","location","host","console","log","open","editRow","vo","formName","handleSizeChange","val","handleCurrentChange","obj","filters","time","Object","utils","evaluationAndFeedback_researchProgress","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","placeholder","model","value","callback","$$v","$set","expression","_l","item","key","label","clearable","nativeOn","keyup","$event","indexOf","_k","keyCode","staticStyle","margin-left","on","click","class"," versions-gray","_s","width","stripe","show-overflow-tooltip","scopedSlots","_u","fn","scope","row","prop","icon-class","size","preventDefault","color","_e","background","current-page","page-sizes","page-size","layout","total","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/91.cff73155a88bc29d0f91.js","sourcesContent":["<template>\r\n <div class=\"center\">\r\n     <div class=\"center_breadcrumb\">\r\n       <crumb :data=\"pageTitle\"></crumb>\r\n    </div>\r\n    <div class=\"center_content\">\r\n        <div class=\"center_content_search\">\r\n            <div class=\"center_content_search_left\">\r\n                <div class=\"search-input-suffix gap\">\r\n                    <label>问卷类型：</label>\r\n                    <el-select v-model=\"page.classifyId\" placeholder=\"全部\">\r\n                        <el-option\r\n                        v-for=\"item in typeOptions\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.classifyName\"\r\n                        :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </div>\r\n                <div class=\"search-input-suffix\">\r\n                    <label>问卷搜索：</label>\r\n                    <el-input class=\"search\"\r\n                            @keyup.enter.native=\"search\"\r\n                            v-model=\"page.keyword\"\r\n                            placeholder=\"请输入搜索关键词\"\r\n                            clearable\r\n                            >                       \r\n                    </el-input>\r\n                     <div style=\"margin-left: 20px\" @click=\"search\" class=\"search--btn\">搜索</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"center_content_search\">\r\n            <div class=\"center_content_search_left\">\r\n                <div class=\"search-input-suffix\">\r\n                    <template v-for=\"(vo,index) in tapOptions\">\r\n                         <el-button @click=\"activeTab(vo.type,index)\" class=\"versions-btn\" :class=\"{' versions-gray': index !== activeIndex}\" type=\"primary\" :key=\"index\">{{vo.name}}</el-button>\r\n                    </template>\r\n                </div>\r\n            </div>\r\n        </div>\r\n         <div class=\"table-container\">\r\n             <el-table\r\n                :data=\"tableData\"\r\n                stripe\r\n                style=\"width: 100%\">\r\n                <el-table-column\r\n                label=\"问卷名称\"\r\n                :show-overflow-tooltip=\"true\"\r\n                width=\"200\">\r\n                    <template slot-scope=\"scope\">\r\n                        {{scope.row.formName}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"classifyName\"\r\n                label=\"问卷类型\">\r\n                </el-table-column>\r\n                <!-- <el-table-column\r\n                prop=\"startTime\"\r\n                label=\"开始时间\">\r\n                <template slot-scope=\"scope\">\r\n                    {{scope.row.startTime | time}}\r\n                </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"endTime\"\r\n                label=\"结束时间\">\r\n                 <template slot-scope=\"scope\">\r\n                    {{scope.row.endTime | time}}\r\n                </template>\r\n                </el-table-column> -->\r\n                 <el-table-column\r\n                prop=\"code\"\r\n                label=\"样本\">\r\n                <template slot-scope=\"scope\">\r\n                    {{`${scope.row.receiveNum}/${scope.row.sendNum}`}}\r\n                </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                label=\"操作\"\r\n                width=\"330\">\r\n                <template slot-scope=\"scope\">\r\n                    <div class=\"operate-button distance\">\r\n                        <SvgIcon :icon-class=\"type === 'process' ? 'icontingzhishouji' : 'iconfaqidiaocha'\"></SvgIcon>\r\n                        <el-button\r\n                        @click.native.prevent=\"stopRow(scope.row.id)\"\r\n                        type=\"text\"\r\n                        size=\"small\">\r\n                        {{type === 'process' ? '停止收集' : '发起问卷'}}\r\n                        </el-button>\r\n                    </div>\r\n                    <div class=\"operate-button distance\">\r\n                        <SvgIcon icon-class=\"iconshanchu\"></SvgIcon>\r\n                        <el-button\r\n                        @click.native.prevent=\"discardRow(scope.row.id)\"\r\n                        type=\"text\"\r\n                        size=\"small\"\r\n                        style=\"color: #ff5858\">\r\n                        废弃\r\n                        </el-button>\r\n                    </div> \r\n                    <div class=\"operate-button\">\r\n                        <SvgIcon icon-class=\"iconyulan\"></SvgIcon>\r\n                        <el-button\r\n                        @click.native.prevent=\"previewRow(scope.row.id)\"\r\n                        type=\"text\"\r\n                        size=\"small\">\r\n                        预览\r\n                        </el-button>\r\n                    </div>\r\n                     <div v-if=\"type === 'unSubmit'\" class=\"operate-button\">\r\n                        <SvgIcon icon-class=\"iconyulan\"></SvgIcon>\r\n                        <el-button\r\n                        @click.native.prevent=\"editRow(scope.row)\"\r\n                        type=\"text\"\r\n                        size=\"small\">\r\n                        编辑\r\n                        </el-button>\r\n                    </div>\r\n                    <!-- <div v-if=\"type === 'process'\" class=\"operate-button\" style=\"margin-left: 10px;\">\r\n                        <SvgIcon icon-class=\"iconyulan\"></SvgIcon>\r\n                        <el-button\r\n                        @click.native.prevent=\"handleEntering(scope.row.id)\"\r\n                        type=\"text\"\r\n                        size=\"small\">\r\n                        问卷操作\r\n                        </el-button>\r\n                    </div>                     -->\r\n                </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"center_pagination\">\r\n                <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    background\r\n                    :current-page=\"page.page\"\r\n                    :page-sizes=\"[15,30,40,50]\"\r\n                    :page-size=\"page.pageSize\"\r\n                    layout=\"prev, pager, next, jumper, sizes, total\"\r\n                    :total=\"data.total\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n    </div>\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport {formatDate} from '@/utils/utils'\r\n\r\nexport default {\r\n name: 'ResearchProgress',\r\n components: {},\r\n data() {\r\n return {\r\n   pageTitle:['问卷调查', '调查进度'],\r\n   activeIndex:0,\r\n   page:{\r\n        classifyId:'0',\r\n        keyword:'',\r\n        page:1,\r\n        pageSize:15\r\n     },\r\n   typeOptions:[],\r\n   type: 'process',\r\n   tapOptions:[\r\n       {name:'进行中的问卷', type:'process'},\r\n       {name:'未发起的问卷', type:'unSubmit'}\r\n   ],\r\n   data:{},\r\n   tableData:[],\r\n   api:{\r\n        classify:'/form/rest/FormClassifyBusiness/listAll/v1',\r\n        unSubmit:'/form/rest/FormMainBaseBusiness/listUnSubmit/v1', //未发起的问卷\r\n        process:'/form/rest/FormMainBaseBusiness/listProcess/v1' , //进行中的问卷\r\n        stop:'/form/rest/FormMainBaseBusiness/stop/v1',\r\n        discard:'/form/rest/FormMainBaseBusiness/discard/v1'\r\n    }\r\n }\r\n },\r\n created(){\r\n     this.type=this.$route.query.type || 'process'\r\n     this.activeIndex=this.type === 'process' ? 0 : 1\r\n     this.classifyAll()\r\n     this.initData()  \r\n   \r\n },\r\n mounted(){},\r\n methods:{\r\n     classifyAll(){\r\n       this.$post(this.api.classify).then(res=>{\r\n           if(res.code ===200){\r\n                this.typeOptions=res.data\r\n                this.typeOptions.unshift( {classifyName:'全部', id:'0'})\r\n           }\r\n       })\r\n     },\r\n    initData(){\r\n         this.$post(this.type === 'process' ? this.api.process : this.api.unSubmit,this.page).then(res =>{\r\n             if(res.code === 200){\r\n                 this.data=res.data;\r\n                 this.tableData=res.data.rows;                 \r\n             }else{\r\n               this.$notify.error({\r\n                title: 'error',\r\n                duration:1500,\r\n                message: '获取列表失败'\r\n                })\r\n             }\r\n         })\r\n     },\r\n      search(){\r\n        this.resetTemp();\r\n        this.initData() ;\r\n     },\r\n     activeTab(type, index){\r\n        this.activeIndex=index;\r\n        this.type=type\r\n        this.resetTemp()\r\n        this.initData()\r\n     },\r\n      handleEntering(id){\r\n       this.$router.push({\r\n        path: \"/evaluationAndFeedback/questionnaireOperation\",\r\n        query: {\r\n          id:id\r\n        }\r\n      });\r\n    },\r\n     stopRow(id){\r\n        if(this.type === 'unSubmit'){\r\n             this.$router.push({\r\n                path:'/evaluationAndFeedback/publish',\r\n                query:{\r\n                    id:id\r\n                }\r\n            })\r\n            return\r\n        }\r\n        this.$confirm('确定停止收集该问卷?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n        }).then(() => {\r\n           this.$post(this.api.stop, {formId:id})\r\n            .then( res => {\r\n                    if(res.code === 200){\r\n                        this.$notify.success({\r\n                            title: 'success',\r\n                            duration:1500,\r\n                            message: '操作成功'\r\n                            \r\n                            })\r\n                        this.initData() ;\r\n                    }else{\r\n                        this.$notify.error({\r\n                        title: 'error',\r\n                        duration:1500,\r\n                        message: res.msg\r\n                    })\r\n                    }\r\n                    \r\n            })\r\n        }).catch(() => {\r\n            this.$message({\r\n                type: 'info',\r\n                message: '已取消'\r\n            });\r\n        });\r\n     },\r\n     discardRow(id){\r\n       this.$confirm('确定废弃该问卷?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n        }).then(() => {\r\n           this.$post(this.api.discard, {formId:id})\r\n            .then( res => {\r\n                    if(res.code === 200){\r\n                        this.$notify.success({\r\n                            title: 'success',\r\n                            duration:1500,\r\n                            message: '操作成功'\r\n                            \r\n                            })\r\n                        this.initData() ;\r\n                    }else{\r\n                        this.$notify.error({\r\n                        title: 'error',\r\n                        duration:1500,\r\n                        message: res.msg\r\n                    })\r\n                    }\r\n                    \r\n            })\r\n        }).catch(() => {\r\n            this.$message({\r\n                type: 'info',\r\n                message: '已取消'\r\n            });\r\n        });\r\n     },\r\n     previewRow(id){\r\n        this.$router.push({\r\n             path:'/evaluationAndFeedback/questionnairePreview',\r\n             query:{\r\n                 id:id,\r\n                 entryType:'new'\r\n             }\r\n         })\r\n     },\r\n     startAnswer(id){\r\n         const url=`http://${window.location.host}/#/test?id=${id}`\r\n         console.log(url)\r\n         window.open(url)\r\n     },\r\n     editRow(vo){\r\n        this.$router.push({\r\n             path:'/evaluationAndFeedback/addQuestionnaire',\r\n             query:{\r\n                 id:vo.id,\r\n                 classifyId:vo.classifyId,\r\n                 title:vo.formName,\r\n                 entryType:'edit',\r\n             }\r\n         })\r\n     },\r\n     handleSizeChange(val){\r\n        this.page.pageSize = val;\r\n\t\tthis.initData()\r\n     },\r\n     handleCurrentChange(obj){\r\n        this.page.page = obj;\r\n        this.initData()\r\n     },\r\n      resetTemp(){\r\n        this.page.page=1;\r\n        this.page.pageSize=15;\r\n     }\r\n },\r\n filters:{\r\n     time(val){\r\n         return val ? formatDate(val, 'yyyy-MM-dd') : ''     \r\n     }\r\n }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n  @import '../../styles/center.scss'\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/evaluationAndFeedback/researchProgress.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"center_breadcrumb\"},[_c('crumb',{attrs:{\"data\":_vm.pageTitle}})],1),_vm._v(\" \"),_c('div',{staticClass:\"center_content\"},[_c('div',{staticClass:\"center_content_search\"},[_c('div',{staticClass:\"center_content_search_left\"},[_c('div',{staticClass:\"search-input-suffix gap\"},[_c('label',[_vm._v(\"问卷类型：\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"全部\"},model:{value:(_vm.page.classifyId),callback:function ($$v) {_vm.$set(_vm.page, \"classifyId\", $$v)},expression:\"page.classifyId\"}},_vm._l((_vm.typeOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.classifyName,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search-input-suffix\"},[_c('label',[_vm._v(\"问卷搜索：\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"search\",attrs:{\"placeholder\":\"请输入搜索关键词\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.page.keyword),callback:function ($$v) {_vm.$set(_vm.page, \"keyword\", $$v)},expression:\"page.keyword\"}}),_vm._v(\" \"),_c('div',{staticClass:\"search--btn\",staticStyle:{\"margin-left\":\"20px\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"center_content_search\"},[_c('div',{staticClass:\"center_content_search_left\"},[_c('div',{staticClass:\"search-input-suffix\"},[_vm._l((_vm.tapOptions),function(vo,index){return [_c('el-button',{key:index,staticClass:\"versions-btn\",class:{' versions-gray': index !== _vm.activeIndex},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.activeTab(vo.type,index)}}},[_vm._v(_vm._s(vo.name))])]})],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"问卷名称\",\"show-overflow-tooltip\":true,\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                       \"+_vm._s(scope.row.formName)+\"\\n                   \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"classifyName\",\"label\":\"问卷类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"code\",\"label\":\"样本\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                   \"+_vm._s(((scope.row.receiveNum) + \"/\" + (scope.row.sendNum)))+\"\\n               \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"330\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operate-button distance\"},[_c('SvgIcon',{attrs:{\"icon-class\":_vm.type === 'process' ? 'icontingzhishouji' : 'iconfaqidiaocha'}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.stopRow(scope.row.id)}}},[_vm._v(\"\\n                       \"+_vm._s(_vm.type === 'process' ? '停止收集' : '发起问卷')+\"\\n                       \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"operate-button distance\"},[_c('SvgIcon',{attrs:{\"icon-class\":\"iconshanchu\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"color\":\"#ff5858\"},attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.discardRow(scope.row.id)}}},[_vm._v(\"\\n                       废弃\\n                       \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"operate-button\"},[_c('SvgIcon',{attrs:{\"icon-class\":\"iconyulan\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.previewRow(scope.row.id)}}},[_vm._v(\"\\n                       预览\\n                       \")])],1),_vm._v(\" \"),(_vm.type === 'unSubmit')?_c('div',{staticClass:\"operate-button\"},[_c('SvgIcon',{attrs:{\"icon-class\":\"iconyulan\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.editRow(scope.row)}}},[_vm._v(\"\\n                       编辑\\n                       \")])],1):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"center_pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.page.page,\"page-sizes\":[15,30,40,50],\"page-size\":_vm.page.pageSize,\"layout\":\"prev, pager, next, jumper, sizes, total\",\"total\":_vm.data.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3c5833bd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/evaluationAndFeedback/researchProgress.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c5833bd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./researchProgress.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./researchProgress.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./researchProgress.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c5833bd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./researchProgress.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/evaluationAndFeedback/researchProgress.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}