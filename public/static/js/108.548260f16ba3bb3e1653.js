webpackJsonp([108],{"23S6":function(t,a){},ireK:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("WCPx"),s=e.n(i),r={name:"StudentLearningStatus",components:{},data:function(){return{info:{},course:{},tableInfo:{},tableData:[],html:"",loading:!0}},created:function(){this.info=JSON.parse(this.$route.query.info),this.course=JSON.parse(this.$route.query.course),this.tableInfo=JSON.parse(this.$route.query.tableInfo)},mounted:function(){var t=this;this.loading=!0;var a=[],e=[],i=[],s=[],r=JSON.parse(this.$route.query.listQuery);this.$get("/teacher/learningState/learningForPoint",{grade:r.grade,classId:this.info.classId,courseId:r.courseId,studentUserId:this.info.sys_user_id}).then(function(r){t.loading=!1;var o=[];r.forEach(function(t){o.push(t.score)}),t.tableInfo.forEach(function(r,o){a.push(r.grade),e.push(t.info["val"+(o+1)]),i.push(t.info["targetVal"+(o+1)]),s.push(t.info["classVal"+(o+1)])}),t.initCharts(a,e,o,i,s),t.initTable(o),t.initText()})},methods:{back:function(){this.$router.push({name:"studentLearningStatus",query:{listQuery:this.$route.query.listQuery}})},initCharts:function(t,a,e,i,r){var o=s.a.init(document.getElementById("charts")),n={title:{text:"指标点达成情况对比",top:"5%",left:"30px"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"5%",right:"5%"},legend:{data:["直接达成度","间接达成度","期望达成度","班级平均达成度"],top:"5%",right:"5%",itemWidth:12,itemHeight:12},toolbox:{show:!0,feature:{saveAsImage:{show:!0}},top:"3%",right:"2%"},calculable:!0,xAxis:[{type:"category",data:t,axisLine:{show:!1},axisTick:{show:!1}}],yAxis:[{type:"value",axisLine:{show:!1},axisTick:{show:!1}}],series:[{name:"直接达成度",type:"bar",barGap:"0",data:a,barMaxWidth:60,itemStyle:{normal:{color:new s.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#03B187"},{offset:1,color:"#8EE9CA"}])}}},{name:"间接达成度",type:"bar",barGap:"0",data:e,barMaxWidth:60,itemStyle:{normal:{color:new s.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#FFA351"},{offset:1,color:"#FFE098"}])}}},{name:"期望达成度",type:"bar",barGap:"0",data:i,barMaxWidth:60,itemStyle:{normal:{color:new s.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#5AB3FF"},{offset:1,color:"#B3DCFF"}])}}},{name:"班级平均达成度",type:"bar",barGap:"0",data:r,barMaxWidth:60,itemStyle:{normal:{color:new s.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#D5CFFF"},{offset:1,color:"#D5CFFF"}])}}}]};o.setOption(n),window.addEventListener("resize",function(){o.resize()})},initTable:function(t){var a=this;this.tableInfo.forEach(function(e,i){a.tableData.push({grade:e.grade,val:a.info["val"+(i+1)],score:t[i],targetVal:a.info["targetVal"+(i+1)],classVal:a.info["classVal"+(i+1)]})})},initText:function(){var t=this.info,a=this.course,e="<div>至本学期，"+t.name+'同学在"'+a.name+'"支撑的毕业要求指标点达成情况：</div>';this.tableInfo.forEach(function(a,i){0==t["targetVal"+(i+1)]?e+='<p><span style="font-weight: 700">毕业要求'+a.grade+"</span>：未开始此能力的学习":e+='<p><span style="font-weight: 700">毕业要求'+a.grade+'</span>：达成值为"'+t["val"+(i+1)]+'"，\n          '+(t["val"+(i+1)]>=t["targetVal"+(i+1)]?'超出预期达成值"'+t["targetVal"+(i+1)]+'"':'<span style="color: #FF5858">未达到预期达成值"'+t["targetVal"+(i+1)]+'"</span>')+"，\n          "+(t["val"+(i+1)]>=t["classVal"+(i+1)]?'超出班级平均值"'+t["classVal"+(i+1)]+'"':'<span style="color: #FFA351">未达到班级平均值"'+t["classVal"+(i+1)]+'</span>"')+"\n          "+(t["val"+(i+1)]>=t["targetVal"+(i+1)]&&t["val"+(i+1)]>=t["classVal"+(i+1)]?"，继续保持即可。":"，在后续学习中还需加强。")+"</p>"}),this.html=e}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"center statusInfo"},[e("div",{staticClass:"center_breadcrumb",staticStyle:{"font-size":"14px",height:"84px","background-color":"transparent","line-height":"84px"}},[e("span",{staticStyle:{color:"#696969",cursor:"pointer"},on:{click:t.back}},[t._v("学前诊断")]),t._v(" > "),e("span",{staticStyle:{color:"#03B187"}},[t._v("学习状态分析详情")])]),t._v(" "),e("div",{staticClass:"center_content"},[e("div",{staticClass:"center_content_search"},[e("div",{staticStyle:{"margin-bottom":"50px",color:"#fff","font-size":"24px","text-align":"center",position:"relative"}},[e("div",{staticStyle:{width:"120px",height:"28px",border:"1px solid rgba(176,249,224,1)","border-radius":"14px","font-size":"14px","line-height":"28px",float:"right",cursor:"pointer",position:"absolute",top:"0",left:"0"},on:{click:t.back}},[e("SvgIcon",{attrs:{"icon-class":"iconfanhui"}}),t._v("  返回列表\n        ")],1),t._v("\n        学习状态分析详情\n      ")]),t._v(" "),e("div",{staticClass:"userInfo"},[e("div",[t._v("学生姓名："+t._s(t.info.name))]),t._v(" "),e("div",[t._v("学号："+t._s(t.info.code))]),t._v(" "),e("div",[t._v("所属班级："+t._s(t.info.className))]),t._v(" "),e("div",[t._v("课程名称："+t._s(t.course.name))])])])]),t._v(" "),e("div",{attrs:{id:"charts"}}),t._v(" "),e("div",{staticClass:"tableInfo"},[e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"grade",label:"毕业要求指标点"}}),t._v(" "),e("el-table-column",{attrs:{prop:"val",label:"直接达成度"}}),t._v(" "),e("el-table-column",{attrs:{prop:"score",label:"间接达成度"}}),t._v(" "),e("el-table-column",{attrs:{prop:"targetVal",label:"期望达成度"}}),t._v(" "),e("el-table-column",{attrs:{prop:"classVal",label:"班级平均达成度"}})],1)],1),t._v(" "),e("div",{staticClass:"text"},[e("h3",[t._v("学习状态反馈")]),t._v(" "),e("div",{domProps:{innerHTML:t._s(t.html)}})])])])},staticRenderFns:[]};var n=e("C7Lr")(r,o,!1,function(t){e("23S6")},null,null);a.default=n.exports}});
//# sourceMappingURL=108.548260f16ba3bb3e1653.js.map