webpackJsonp([123],{BhqJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center questionnaireLibrary"},[n("div",{staticClass:"center_breadcrumb"},[n("crumb")],1),t._v(" "),n("div",{staticClass:"center_content"},[n("div",{staticClass:"questionnaireLibrary-course"},[n("div",{staticClass:"center_content_search"},[n("div",{staticClass:"center_content_search_left"},[n("div",{staticClass:"search-input-suffix"},[n("label",[t._v("问卷名称：")]),t._v(" "),n("el-input",{staticClass:"search",attrs:{placeholder:"请输入搜索关键字"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.page.keyWord,callback:function(e){t.$set(t.page,"keyWord",e)},expression:"page.keyWord"}})],1),t._v(" "),n("div",{staticClass:"search--btn",staticStyle:{margin:"0 0 0 20px"},on:{click:t.search}},[t._v("搜索")])])]),t._v(" "),n("el-table",{staticStyle:{width:"100%","padding-bottom":"40px","border-radius":"10px"},attrs:{data:t.list,stripe:""}},[n("el-table-column",{attrs:{label:"问卷名称","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                   "+t._s(e.row.formName)+" \n                               ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"引用次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.refCount))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.openPreview(e.row.id)}}},[n("svgIcon",{attrs:{"icon-class":"iconyulan"}}),t._v("  预览\n                                   ")],1),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.openQuote(e.row)}}},[n("svgIcon",{attrs:{"icon-class":"iconyinyong"}}),t._v("  引用\n                                   ")],1),t._v(" "),n("el-button",{staticStyle:{color:"#ff5858"},attrs:{type:"text",size:"small"},on:{click:function(n){return t.discard(e.row.id)}}},[n("svgIcon",{attrs:{"icon-class":"iconshanchu"}}),t._v("  废弃\n                                   ")],1)]}}])})],1)],1)])])},staticRenderFns:[]};var i=n("C7Lr")({name:"CourseLibrary",components:{},data:function(){return{pageTitle:"课程模板库",activeNum:0,list:[],page:{keyWord:""},api:{templateList:"/form/rest/FormTemplateMainBaseBusiness/listCourseAll/v1",discardTemp:"/form/rest/FormMainBaseBusiness/discardTemp/v1"}}},created:function(){this.initData()},mounted:function(){},methods:{initData:function(){var t=this;this.$post(this.api.templateList,this.page).then(function(e){200===e.code&&(e.data.forEach(function(t){t.off=!0,t.on=!0}),t.list=e.data)})},search:function(){this.initData()},openPreview:function(t){this.$router.push({path:"/courseQualityEvaluation/coursePreview",query:{entryType:"template",id:t}})},openQuote:function(t){this.$router.push({path:"/courseQualityEvaluation/NewQuestionnaire",query:{type:"course",status:"edit",point:"template",id:t.id}})},discard:function(t){var e=this;this.$post(this.api.discardTemp,{id:t}).then(function(t){200===t.code?(e.$notify.success({title:"success",duration:1500,message:"操作成功"}),e.initData()):e.$notify.error({title:"error",duration:1500,message:t.msg})})},enter:function(t,e,n){"preview"===t?this.list[e].off=!n:this.list[e].on=!n},leave:function(t,e,n){"preview"===t?this.list[e].off=!n:this.list[e].on=!n}}},s,!1,function(t){n("hHiI")},null,null);e.default=i.exports},hHiI:function(t,e){}});
//# sourceMappingURL=123.470ebc7b68ce86a3345e.js.map