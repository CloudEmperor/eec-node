webpackJsonp([95],{bkKh:function(e,t){},vOq2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"examination students"},[i("div",[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/trainingProgram/examination"}}},[e._v("培养方案")]),e._v(" "),i("el-breadcrumb-item",[e._v("\n            考核方式管理\n            ")])],1)],1),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"examination-btn"},[i("el-button",{attrs:{type:"primary",round:""},on:{click:e.close}},[e._v("+ 新建")])],1),e._v(" "),i("div",{staticClass:"examination-tab"},[[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[i("el-table-column",{attrs:{label:"考核方式名称",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"考核方式描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticStyle:{"margin-left":"10px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[e._v(e._s(t.row.description))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[i("i",{staticClass:"el-icon-edit"}),e._v("  编辑\n                    ")]),e._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[i("i",{staticClass:"el-icon-delete"}),e._v("  删除\n                    ")])]}}])})],1)]],2),e._v(" "),i("div",{staticClass:"examination-dia"},[i("el-dialog",{attrs:{title:e.tianjia,visible:e.dialogFormVisible,"before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules}},[i("el-form-item",{attrs:{prop:"user",label:"考核方式名称："}},[i("el-input",{attrs:{placeholder:"考核方式名称："},model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"考核方式描述：",prop:"description"}},[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.falg1,expression:"falg1"}],attrs:{type:"primary"},on:{click:function(t){return e.determine("ruleForm")}}},[e._v("确 定")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.falg,expression:"falg"}],attrs:{type:"primary"},on:{click:e.determine1}},[e._v("确 定")])],1)],1)],1),e._v(" "),i("div",[[i("div",{staticClass:"block"},[i("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[15,30,40,50],"page-size":e.pageSize,layout:"prev, pager, next, jumper, sizes, total",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"examination-dv"},[t("img",{attrs:{src:i("W/al"),alt:""}}),this._v(" "),t("span",[this._v("考核方式管理")])])}]};var s=i("C7Lr")({data:function(){return{pageSize:15,pageNum:1,totals:0,dialogFormVisible:!1,formLabelWidth:"120px",loading:!1,tianjia:"",falg1:!1,falg:!1,textarea:"",tableData:[],form:{name:"",id:"",description:"",user:""},rules:{user:[{required:!0,message:"考核方式不能为空",trigger:"blur"}]},options:[],value:""}},methods:{close:function(){this.falg1=!0,this.falg=!1,this.tianjia="添加考核方式",this.dialogFormVisible=!0,this.form={},this.value=""},examineList:function(){var e=this,t={page:this.pageNum,rows:this.pageSize};this.$post("basic/examine/list",t).then(function(t){1==t.status&&(e.tableData=t.data,e.totals=t.total)})},allexamine:function(){var e=this;this.$get("/basic/examine/all").then(function(t){1==t.status&&(e.options=t.data)})},addexamine:function(){var e=this,t={name:this.form.user,description:this.form.description};this.$post("/basic/examine/add",t).then(function(t){1==t.status&&e.examineList()})},determine:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.addexamine(),t.dialogFormVisible=!1})},determine1:function(){var e=this,t={id:this.form.id,name:this.form.user,description:this.form.description};this.$put("/basic/examine/edit",t).then(function(t){1==t.status&&(e.form.user=t.data.name,e.form.description=t.data.description),e.examineList()}),this.dialogFormVisible=!1},resetForm:function(e){this.$refs[e].resetFields(),this.dialogFormVisible=!1},handleClose:function(){this.$refs.ruleForm.resetFields(),this.dialogFormVisible=!1},handleEdit:function(e,t){this.falg1=!1,this.falg=!0,this.tianjia="编辑考核方式",this.dialogFormVisible=!0,this.form.user=t.name,this.form.id=t.id,this.form.description=t.description},handleDelete:function(e,t){var i=this;this.$confirm("确定删除该信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$deletes("/basic/examine/del/"+t.id).then(function(e){1==e.status?(i.examineList(),i.$notify({message:"删除成功",type:"success"})):i.$notify({message:e.message,type:"warning"})})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},handleSizeChange:function(e){this.pageSize=e,this.examineList()},handleCurrentChange:function(e){this.pageNum=e,this.examineList()}},mounted:function(){this.examineList(),this.allexamine()}},a,!1,function(e){i("bkKh")},null,null);t.default=s.exports}});
//# sourceMappingURL=95.1a79c32c1b59a5643b78.js.map