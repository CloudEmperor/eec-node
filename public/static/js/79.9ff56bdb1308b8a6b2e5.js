webpackJsonp([79],{"0ut4":function(t,e){},KZsP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("3cXf"),o=a.n(i),s={data:function(){return{dialogFormVisible:!1,formLabelWidth:"120px",falg:!1,falg1:!1,Addpro:"",form:{name:"",code:"",intro:"",academyId:""},currentPage4:1,total:0,page:1,pageSize:15,pageNum:1,formInline:{user:""},rules:{name:[{required:!0,message:"请输入专业名称",trigger:"blur"}],code:[{required:!0,message:"请输入专业编号",trigger:"blur"}],intro:[{required:!0,message:"请输入专业简介",trigger:"blur"}]},tableData:[],loading:!0,options:[],value:"",options0:[],value0:"",options1:[],value1:""}},methods:{onSubmit:function(){var t=this,e={academyId:this.value0,keywords:this.formInline.user,page:this.pageNum,rows:this.pageSize};this.$post("/basic/specialty/list",e).then(function(e){1==e.status&&(t.tableData=e.data,t.total=e.total,t.loading=!1)})},ppp:function(t){this.$refs.form.resetFields(),this.dialogFormVisible=!1,this.onSubmit()},allxue:function(){var t=this;this.$get("/basic/academy/all?type=1").then(function(e){t.options=JSON.parse(o()(e.data)),t.options0=e.data,t.options0.unshift({code:"",name:"全部"})})},changes1:function(){var t=this;this.$get("/basic/specialty/all/"+this.value0).then(function(e){t.options1=e.data})},specialtyadd:function(){var t=this,e={name:this.form.name,code:this.form.code,intro:this.form.intro,academyId:this.value};this.$post("/basic/specialty/add",e).then(function(e){1==e.status&&(t.$notify({message:"新增成功",type:"success"}),t.tableData.unshift(e.data),t.onSubmit())})},handleEdit:function(t,e){this.Addpro="编辑专业",this.falg=!1,this.falg1=!0,this.dialogFormVisible=!0,this.form=e,this.value=e.academyId;this.form.id;this.allxue()},seccons1:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.specialtyadd(),e.dialogFormVisible=!1,e.form={}})},seccons2:function(){var t=this,e={code:this.form.code,name:this.form.name,id:this.form.id,intro:this.form.intro,academyId:this.value};this.$put("/basic/specialty/edit",e).then(function(e){t.form=e.data,t.onSubmit()}),this.dialogFormVisible=!1},close:function(){this.Addpro="添加专业",this.falg=!0,this.falg1=!1,this.dialogFormVisible=!0,this.form={},this.allxue()},handleClose:function(){this.$refs.form.resetFields(),this.dialogFormVisible=!1,this.onSubmit()},handleDelete:function(t,e){var a=this;this.$confirm("确定删除该信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$deletes("/basic/specialty/del/"+e.id).then(function(t){1==t.status&&a.onSubmit()})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},indexMethod:function(t){return 1*t},handleSizeChange:function(t){this.pageSize=t,this.onSubmit()},handleCurrentChange:function(t){this.pageNum=t,this.onSubmit()}},mounted:function(){this.onSubmit(),this.allxue()}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"professional1 padding students"},[a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/main/professional"}}},[t._v("基础信息")]),t._v(" "),a("el-breadcrumb-item",[t._v("\n          专业管理\n      ")])],1)],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"professional-inp"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("span",{staticClass:"ssssss"},[t._v("所属学院：")]),t._v(" "),a("el-select",{staticClass:"pppp",attrs:{placeholder:"全部"},on:{change:t.changes1},model:{value:t.value0,callback:function(e){t.value0=e},expression:"value0"}},t._l(t.options0,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{attrs:{placeholder:"专业名称"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("搜索")])],1)],1),t._v(" "),a("div",{staticClass:"professional-btn"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:t.close}},[t._v("+ 新建")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.Addpro,visible:t.dialogFormVisible,"before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"所属学院：","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"专业名称：","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"专业编码：","label-width":t.formLabelWidth,prop:"code"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"专业简介：","label-width":t.formLabelWidth,prop:"intro"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.intro,callback:function(e){t.$set(t.form,"intro",e)},expression:"form.intro"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.ppp}},[t._v("取 消")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.falg,expression:"falg"}],attrs:{type:"primary"},on:{click:function(e){return t.seccons1("form")}}},[t._v("确 定")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.falg1,expression:"falg1"}],attrs:{type:"primary"},on:{click:function(e){return t.seccons2("form")}}},[t._v("确 定")])],1)],1),t._v(" "),a("div",{staticClass:"professional-tab"},[[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"专业编码",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"专业名称",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"所属院校",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.academyName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"专业简介"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(t._s(e.row.intro))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-edit"}),t._v("  编辑\n            ")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("  删除\n            ")])]}}])})],1)]],2),t._v(" "),a("div",[[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":t.pageNum,"page-sizes":[15,30,40,50],"page-size":t.pageSize,layout:"prev, pager, next, jumper, sizes, total",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"examination-dv"},[e("img",{attrs:{src:a("W/al"),alt:""}}),this._v(" "),e("span",[this._v("专业管理")])])}]};var l=a("C7Lr")(s,n,!1,function(t){a("0ut4")},null,null);e.default=l.exports}});
//# sourceMappingURL=79.9ff56bdb1308b8a6b2e5.js.map