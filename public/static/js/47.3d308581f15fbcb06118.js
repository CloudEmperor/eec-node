webpackJsonp([47],{GoU4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{dialogFormVisible:!1,formLabelWidth:"120px",falg:!1,falg1:!1,currentPage1:1,total:0,pageSize:15,pageNum:1,tianjia:"",form:{name:"",code:"",intro:""},rules:{name:[{required:!0,message:"学院名称不能为空",trigger:"blur"}],code:[{required:!0,message:"学院编号不能为空",trigger:"blur"}],intro:[{required:!0,message:"学院简介不能为空",trigger:"blur"}]},formInline:{user:""},tableData:[],loading:!0,tableData1:[]}},methods:{onSubmit:function(){var t=this,e={keywords:this.formInline.user,rows:this.pageSize,page:this.currentPage1};this.$post("/basic/academy/list",e).then(function(e){1==e.status&&(t.loading=!1,t.tableData1=e.data,t.total=e.total)})},list:function(){var t=this,e={rows:this.pageSize,page:this.currentPage1};this.$post("/basic/academy/list",e).then(function(e){1==e.status&&(t.loading=!1,t.tableData1=e.data,t.total=e.total)})},academyAdd:function(){var t=this,e=this.form.name,i=this.form.code,a=this.form.intro;this.$post("/basic/academy/add",{name:e,code:i,intro:a}).then(function(e){1==e.status?(t.$notify({message:"新增成功",type:"success"}),t.tableData1.unshift(e.data),t.onSubmit()):t.form=e.message})},handleEdit:function(t,e){this.tianjia="编辑学院",this.falg1=!1,this.falg=!0,this.dialogFormVisible=!0,this.form.name=e.name,this.form.code=e.code,this.form.intro=e.intro,this.form.id=e.id},close:function(){this.tianjia="添加学院",this.falg1=!0,this.falg=!1,this.dialogFormVisible=!0,this.form.name="",this.form.code="",this.form.intro=""},seccons:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.academyAdd(),e.dialogFormVisible=!1,e.list()})},seccons1:function(){var t=this,e=this.form.name,i=this.form.code,a=this.form.intro,n=this.form.id;this.$put("/basic/academy/edit",{intro:a,name:e,code:i,id:n}).then(function(e){1==e.status&&(t.form.name=e.data.name,t.form.code=e.data.code,t.form.intro=e.data.intro,t.onSubmit())}),this.dialogFormVisible=!1},resetForm:function(t){this.$refs[t].resetFields(),this.dialogFormVisible=!1},handleClose:function(){this.$refs.ruleForm.resetFields(),this.dialogFormVisible=!1},handleDelete:function(t,e){var i=this;this.$confirm("确定删除该信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$deletes("/basic/academy/del/"+e.id).then(function(t){1==t.status&&i.onSubmit()})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},indexMethod:function(t){return 1*t},handleSizeChange:function(t){this.pageSize=t,this.onSubmit()},handleCurrentChange:function(t){this.currentPage1=t,this.onSubmit()}},mounted:function(){this.list()}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"authentication padding students"},[i("div",[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/main/authentication"}}},[t._v("基础信息")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n        学院管理\n      ")])],1)],1),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"authentication-inp"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[i("el-form-item",{attrs:{label:"学院搜索："}},[i("el-input",{attrs:{placeholder:"学院名称"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),t._v(" "),i("el-form-item",[i("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("搜索")])],1)],1)],1),t._v(" "),i("div",{staticClass:"authentication-btn"},[i("el-button",{attrs:{type:"primary",round:""},on:{click:t.close}},[t._v("+ 新建")])],1),t._v(" "),i("el-dialog",{attrs:{title:t.tianjia,visible:t.dialogFormVisible,"before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules}},[i("el-form-item",{attrs:{label:"学院名称：","label-width":t.formLabelWidth,prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"学院编码：","label-width":t.formLabelWidth,prop:"code"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"学院简介：","label-width":t.formLabelWidth,prop:"intro"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.intro,callback:function(e){t.$set(t.form,"intro",e)},expression:"form.intro"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("取 消")]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.falg1,expression:"falg1"}],attrs:{type:"primary"},on:{click:function(e){return t.seccons("ruleForm")}}},[t._v("确 定")]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.falg,expression:"falg"}],attrs:{type:"primary"},on:{click:t.seccons1}},[t._v("确 定")])],1)],1),t._v(" "),i("div",{staticClass:"authentication-tab"},[[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData1,border:"",stripe:""}},[i("el-table-column",{attrs:{index:t.indexMethod,label:"编号",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index+1))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"学院名称",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"学院编号",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.code))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"学院简介"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"margin-left":"10px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(t._s(e.row.intro))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}},[i("i",{staticClass:"el-icon-edit"}),t._v("  编辑\n            ")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.handleDelete(e.$index,e.row)}}},[i("i",{staticClass:"el-icon-delete"}),t._v("  删除\n            ")])]}}])})],1)]],2),t._v(" "),i("div",[[i("div",{staticClass:"block"},[i("el-pagination",{attrs:{background:"","current-page":t.currentPage1,"page-sizes":[15,30,40,50],"page-size":t.pageSize,layout:"prev, pager, next, jumper, sizes, total",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"examination-dv"},[e("img",{attrs:{src:i("W/al"),alt:""}}),this._v(" "),e("span",[this._v("考核方式管理")])])}]};var o=i("C7Lr")(a,n,!1,function(t){i("dnq8")},"data-v-d070fac4",null);e.default=o.exports},dnq8:function(t,e){}});
//# sourceMappingURL=47.3d308581f15fbcb06118.js.map