{"version":3,"sources":["webpack:///src/views/evaluationAndFeedback/addQuestionnaire.vue","webpack:///./src/views/evaluationAndFeedback/addQuestionnaire.vue?f2a8","webpack:///./src/views/evaluationAndFeedback/addQuestionnaire.vue"],"names":["addQuestionnaire","name","components","data","pageTitle","entryType","this","$route","query","id","form","classifyId","formName","templateId","undefined","classifyOptions","rules","required","message","trigger","api","classify","save","new","template","copyTemplate","edit","created","title","classifyAll","mounted","methods","_this","$post","then","res","code","create","_this2","$refs","validate","valid","userAdd","_this3","url","formId","$notify","success","duration","setTimeout","$router","push","path","error","msg","evaluationAndFeedback_addQuestionnaire","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","model","label-width","label","prop","placeholder","value","callback","$$v","$set","expression","_l","item","key","classifyName","type","on","click","$event","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/56.27297286bc949bad900c.js","sourcesContent":["<template>\r\n   <div class=\"center\">\r\n     <div class=\"center_breadcrumb\">\r\n        <crumb :data=\"pageTitle\"></crumb>\r\n    </div>\r\n    <div class=\"center_content\">\r\n         <div class=\"table-container add-questionnaire\">\r\n            <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"120px\">\r\n                <p class=\"small-title-tip\">问卷基础信息</p>\r\n                <el-form-item label=\"问卷类型\" prop=\"classifyId\">\r\n                     <el-select v-model=\"form.classifyId\" placeholder=\"请选择问卷类型\">\r\n                        <el-option\r\n                        v-for=\"item in classifyOptions\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.classifyName\"\r\n                        :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"问卷名称\" prop=\"formName\">\r\n                    <el-input\r\n                        v-model=\"form.formName\"\r\n                        placeholder=\"请输入问卷名称\">\r\n                        </el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n             <div class=\"add-questionnaire_footer\">\r\n                <button  @click=\"create('form')\" type=\"button\" class=\"el-button set-btn\"><span>{{entryType === 'copyTemplate' ?  '编辑问卷' : '创建问卷'}}</span></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n name: 'AddQuestionnaire',\r\n components: {},\r\n data() {\r\n return {\r\n   pageTitle:['问卷调查', '新建问卷'],\r\n   entryType:this.$route.query.entryType,\r\n   id:this.$route.query.id || '',\r\n   form: {\r\n        classifyId:'',\r\n        formName: '',\r\n        templateId:undefined //引用模板转需\r\n    },\r\n    classifyOptions:[],\r\n    rules:{\r\n        classifyId: [\r\n            {\r\n              required: true,\r\n              message: '请选择问卷类型',\r\n              trigger: 'blur'\r\n            }\r\n        ],\r\n        formName: [\r\n            {\r\n              required: true,\r\n              message: '请输入问卷名称',\r\n              trigger: 'blur'\r\n            }\r\n        ]\r\n    },\r\n    api:{\r\n        classify:'/form/rest/FormClassifyBusiness/listAll/v1',\r\n        save:{\r\n          new:'/form/rest/FormMainBaseBusiness/add/v1', \r\n          template:'/form/rest/FormTemplateMainBaseBusiness/add/v1', //模板新增\r\n          copyTemplate:'/form/rest/FormMainBaseBusiness/addByTemplate/v1', //引用模板新增\r\n          edit:'/form/rest/FormMainBaseBusiness/displayQuality/v1' //编辑\r\n        }\r\n    }\r\n }\r\n },\r\n created(){\r\n     this.form.classifyId=this.$route.query.classifyId || ''\r\n     this.form.formName=this.$route.query.title || ''\r\n     this.classifyAll()\r\n },\r\n mounted(){},\r\n methods:{\r\n      classifyAll(){\r\n       this.$post(this.api.classify).then(res=>{\r\n           if(res.code ===200){\r\n                this.classifyOptions=res.data\r\n           }\r\n       })\r\n     },\r\n     create(formName){            \r\n       this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n              this.userAdd()\r\n          } \r\n        });\r\n     },\r\n     userAdd(){\r\n        const url=this.api.save[this.entryType]\r\n        if(this.entryType === 'copyTemplate')  this.form.templateId =this.id\r\n        if(this.entryType === 'edit') this.form.formId=this.$route.query.id\r\n        this.$post(url, this.form)\r\n         .then(res => {\r\n           if(res.code === 200){\r\n                  this.$notify.success({\r\n                        title: 'success',\r\n                        duration:1500,\r\n                        message: '保存成功'                     \r\n                        })\r\n                     setTimeout(()=>{\r\n                         this.$router.push({\r\n                           path:'/evaluationAndFeedback/editQuestionnaire',\r\n                           query:{\r\n                               id:res.data.id,\r\n                               entryType:this.entryType === 'template' ? 'template' : 'new'\r\n                           }\r\n                        }) \r\n                     },800)               \r\n                  \r\n               }else{\r\n                  this.$notify.error({\r\n                  title: 'error',\r\n                  duration:1500,\r\n                  message: res.msg\r\n               })\r\n               }\r\n         })\r\n     }\r\n }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n @import '../../styles/center.scss';\r\n .add-questionnaire{\r\n    .el-input{\r\n        width:300px;\r\n    }\r\n    .el-form-item__label{\r\n        width: 140px !important;\r\n    }\r\n    .add-questionnaire_footer{\r\n        padding-top:40px;\r\n         .set-btn{\r\n           margin-left:60px !important;\r\n        }\r\n       \r\n    }\r\n   \r\n }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/evaluationAndFeedback/addQuestionnaire.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"center_breadcrumb\"},[_c('crumb',{attrs:{\"data\":_vm.pageTitle}})],1),_vm._v(\" \"),_c('div',{staticClass:\"center_content\"},[_c('div',{staticClass:\"table-container add-questionnaire\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('p',{staticClass:\"small-title-tip\"},[_vm._v(\"问卷基础信息\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"问卷类型\",\"prop\":\"classifyId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择问卷类型\"},model:{value:(_vm.form.classifyId),callback:function ($$v) {_vm.$set(_vm.form, \"classifyId\", $$v)},expression:\"form.classifyId\"}},_vm._l((_vm.classifyOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.classifyName,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"问卷名称\",\"prop\":\"formName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入问卷名称\"},model:{value:(_vm.form.formName),callback:function ($$v) {_vm.$set(_vm.form, \"formName\", $$v)},expression:\"form.formName\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"add-questionnaire_footer\"},[_c('button',{staticClass:\"el-button set-btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.create('form')}}},[_c('span',[_vm._v(_vm._s(_vm.entryType === 'copyTemplate' ?  '编辑问卷' : '创建问卷'))])])])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-b3b5df1e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/evaluationAndFeedback/addQuestionnaire.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b3b5df1e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./addQuestionnaire.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addQuestionnaire.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addQuestionnaire.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b3b5df1e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./addQuestionnaire.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/evaluationAndFeedback/addQuestionnaire.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}