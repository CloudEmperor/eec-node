webpackJsonp([127],{"0+mJ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("3cXf"),o=r.n(s),i=r("brjS"),a=r("Z+s7"),n={name:"Reference",components:{TitleCurmb:i.a,CourseSteps:a.a},data:function(){return{courseName:this.$route.query.title,form:{booklist:"",explains:""},rules:{booklist:[{required:!0,message:"请输入材料及参考书目",trigger:"blur"}],explains:[{required:!0,message:"请输入备注说明",trigger:"blur"}]},api:{details:function(e){return"/basic/course/setCourseBooklistView/"+e},save:function(){return"/basic/course/setCourseBooklist"}}}},created:function(){},mounted:function(){this.initData()},methods:{initData:function(){var e=this,t=this.api.details(this.$route.query.id);this.$get(t).then(function(t){1===t.status?e.form=t.data:e.$notify.error({title:"error",duration:1500,message:t.message})})},formSubmit:function(e,t){var r=this,s=JSON.parse(o()(this.form));s.id=this.$route.query.id,"save"===t?(this.$refs[e].resetFields(),this.userSave(s,"save")):this.$refs[e].validate(function(e){e&&r.userSave(s,"next")})},userSave:function(e,t){var r=this;this.$post(this.api.save(),e).then(function(e){1===e.status?(r.$notify.success({title:"success",duration:1500,message:e.message}),"next"===t?r.$router.push({path:"/Construction/previewCourse",query:{id:r.$route.query.id}}):r.initData()):r.$notify.error({title:"error",duration:1500,message:e.message})})}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"course-construction"},[r("title-curmb"),e._v(" "),r("course-steps",{attrs:{title:e.courseName,step:6}}),e._v(" "),r("div",{staticClass:"course-construction_body"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"0"}},[r("h2",[e._v("材料及参考书目")]),e._v(" "),r("el-row",[r("el-form-item",{attrs:{prop:"booklist"}},[r("el-input",{attrs:{type:"textarea",rows:7,placeholder:"请填写教材或参考书目名称、主编、出版社"},model:{value:e.form.booklist,callback:function(t){e.$set(e.form,"booklist",t)},expression:"form.booklist"}})],1)],1),e._v(" "),r("h2",[e._v("备注说明")]),e._v(" "),r("el-row",[r("el-form-item",{attrs:{prop:"explains"}},[r("el-input",{attrs:{type:"textarea",rows:7,placeholder:"请将对本课程大纲的备注说明填写在这里..."},model:{value:e.form.explains,callback:function(t){e.$set(e.form,"explains",t)},expression:"form.explains"}})],1)],1),e._v(" "),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:6,offset:9}},[r("div",{staticClass:"c-footer"},[r("el-button",{on:{click:function(t){return e.formSubmit("form","save")}}},[e._v("保  存")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.formSubmit("form","submit")}}},[e._v("提  交")])],1)])],1)],1)],1)],1)},staticRenderFns:[]};var l=r("C7Lr")(n,u,!1,function(e){r("J0q7")},"data-v-026af7a2",null);t.default=l.exports},J0q7:function(e,t){}});
//# sourceMappingURL=127.9d00c5fc51bdee7face5.js.map