webpackJsonp([10],{"9mEJ":function(t,e){},OmfZ:function(t,e){},T7RF:function(t,e){},h4fA:function(t,e,r){t.exports=r.p+"static/img/graduated.8989bc9.png"},x7qu:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("gOVW"),i={name:"ResultQuery",components:{},props:["pointLists"],data:function(){return{pageTitle:"排课信息",tableData:[],tableHeight:"47px",tableHeights:"47px",versionId:"",userIdentity:"",teacherData:[],roleName:""}},created:function(){this.roleName=localStorage.getItem("roleName")},mounted:function(){"课程负责人"===localStorage.getItem("roleName")||"教师"===localStorage.getItem("roleName")||"学生"===localStorage.getItem("roleName")&&this.tearcherList()},computed:{oftenWidth:function(){return 1/this.tableData.length*100+"%"}},methods:{dataProcessing:function(t){var e=t.courses,r=t.yearTerms,a=[];r.forEach(function(t){t.list=[],e.forEach(function(e){e.term===t.order&&t.list.push(e)}),a.push(t.list.length)});var i=Math.max.apply(null,a);r.forEach(function(t){var e=t.list.length;if(e<i)for(var r=i-e,a=0;a<r;a++)t.list.push({courseName:"",courseId:""})}),this.tableData=r;var n=[];this.tableData.forEach(function(t){n.push(t.list.length)}),this.tableHeight=47*Math.max.apply(Math,n)+100+"px"},courseInfos:function(t){t.id&&this.$router.push({path:"/studentside/graduation",query:{id:t.id,title:"课程体系"}})},tearcherList:function(){var t=this;"课程负责人"===this.roleName||"教师"===this.roleName?this.$get("/info/teacherinfo/getAllCourseByVersionId",{versionId:this.versionId}).then(function(e){e.yearTerms=[{year:"第一学期",order:1},{year:"第二学期",order:2},{year:"第三学期",order:3},{year:"第四学期",order:4},{year:"第五学期",order:5},{year:"第六学期",order:6},{year:"第七学期",order:7},{year:"第八学期",order:8}],t.dataProcessing(e),t.$nextTick(function(){var e=[];document.querySelectorAll(".table-ul_li1>ul").forEach(function(t){e.push(t.children.length)}),t.tableHeights=40*(Math.max.apply(Math,e)+1)+100+"px"})}).catch(function(e){t.notify({title:"error",message:"系统繁忙，请刷新重试!",type:"err",duration:"1500"})}):"学生"===this.roleName&&(this.versionId=0,this.$get("/info/teacherinfo/getAllCourseByVersionId",{versionId:0}).then(function(e){e.yearTerms=[{year:"第一学期",order:1},{year:"第二学期",order:2},{year:"第三学期",order:3},{year:"第四学期",order:4},{year:"第五学期",order:5},{year:"第六学期",order:6},{year:"第七学期",order:7},{year:"第八学期",order:8}],t.dataProcessing(e),t.$nextTick(function(){var e=[];document.querySelectorAll(".table-ul_li1>ul").forEach(function(t){e.push(t.children.length)}),t.tableHeights=40*(Math.max.apply(Math,e)+1)+100+"px"})}).catch(function(e){t.notify({title:"error",message:"系统繁忙，请刷新重试!",type:"err",duration:"1500"})}))}},watch:{pointLists:function(t){var e=this;t.forEach(function(t){e.versionId=t.id}),this.tearcherList()}}},n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"center",staticStyle:{"margin-bottom":"0"}},[r("div",{staticClass:"center_content1"},[r("div",{staticClass:"table-container"},["学生"===t.roleName?r("ul",{staticClass:"table-ul",style:{height:t.tableHeights}},t._l(t.tableData,function(e,a){return r("li",{key:a,staticClass:"table-ul_li1",style:{width:t.oftenWidth}},[r("p",{staticClass:"table-ul-p"},[t._v(t._s(e.year))]),t._v(" "),r("ul",t._l(e.list,function(e,a){return r("li",{key:a,on:{click:function(r){return t.courseInfos(e)}}},[r("p",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v(t._s(e.name))])])}),0)])}),0):"课程负责人"===t.roleName||"教师"===t.roleName?r("ul",{staticClass:"table-ul",style:{height:t.tableHeights}},t._l(t.tableData,function(e,a){return r("li",{key:a,staticClass:"table-ul_li1",style:{width:t.oftenWidth}},[r("p",{staticClass:"table-ul-p"},[t._v(t._s(e.year))]),t._v(" "),r("ul",t._l(e.list,function(e,a){return r("li",{key:a,on:{click:function(r){return t.courseInfos(e)}}},[r("p",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v(t._s(e.name))])])}),0)])}),0):t._e()])])])},staticRenderFns:[]};var s={name:"ResultQuery",components:{},data:function(){return{pageTitle:"成绩查询",currentPage:1,tableData:[],list:{courses:[],yearTerms:[]},yearTerms:[],courses:[]}},created:function(){},mounted:function(){},computed:{oftenWidth:function(){return 1/this.tableData.length*100-.2*(this.tableData.length+1)+"%"}},methods:{initFun:function(){var t=this.courses,e=this.yearTerms,r=[];e.forEach(function(e){e.list=[],t.forEach(function(t){t.order===e.order&&e.list.push(t)}),r.push(e.list.length)});var a=Math.max.apply(null,r);e.forEach(function(t){var e=t.list.length;if(e<a)for(var r=a-e,i=0;i<r;i++)t.list.push({courseName:"",courseId:""})}),this.tableData=e;var i=[];this.tableData.forEach(function(t){i.push(t.list.length)}),this.tableHeight=47*Math.max.apply(Math,i)+100+"px"},initData:function(){var t=this;a.a.getAllCourse;this.$get("/info/information/getOrderCourse").then(function(e){0==e.courses.length||0==e.yearTerms.length?t.$refs.open.innerHTML="暂无数据":(t.yearTerms=e.yearTerms,t.courses=e.courses,t.initFun())})},headInfo:function(t){this.pageTitle=t[1]},courseInfo:function(t){this.$router.push({path:"/studentside/graduation",query:{id:t}})}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"center2"},[e("div",{ref:"open",staticClass:"center2_content"},[e("img",{staticStyle:{width:"76%",height:"100%"},attrs:{src:r("h4fA"),alt:""}})])])},staticRenderFns:[]};var l={data:function(){return{yearTerms:[],courses:[],formInline:{user:""},options:[],value:"",pointList:[],isavtive:0,userIdentity:"",versionList:[],versionId:0,roleName:""}},components:{Courseifon:r("C7Lr")(i,n,!1,function(t){r("9mEJ")},null,null).exports,Timetable:r("C7Lr")(s,o,!1,function(t){r("OmfZ")},null,null).exports},methods:{getClaim:function(t){this.versionId=t,this.pointList=[{id:t}]},changeclass:function(t){this.isavtive=t,this.pointList=[{id:"12",name:"enban"}]},getClassByTeacher:function(){var t=this;this.$get("/info/information/getClassByTeacher").then(function(e){t.options=e})},getInfo:function(){var t=this;localStorage.getItem("versionId")?this.getClaim(localStorage.getItem("versionId")):setTimeout(function(){t.getInfo()},200)}},created:function(){this.roleName=localStorage.getItem("roleName")},mounted:function(){"课程负责人"!==localStorage.getItem("roleName")&&"教师"!==localStorage.getItem("roleName")||this.getInfo()}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Curriculum1 padding1 students"},[e("div",{staticClass:"Curriculum-dv"},[e("crumb")],1),this._v(" "),e("div",{staticClass:"Curriculum-dv0"},[e("div",{staticClass:"Curriculum-dv1"},[this._v("\n      排课信息\n    ")]),this._v(" "),e("div",{staticClass:"Curriculum-dv2"},[e("Courseifon",{attrs:{pointLists:this.pointList}})],1)])])},staticRenderFns:[]};var u=r("C7Lr")(l,c,!1,function(t){r("T7RF")},"data-v-ba74de26",null);e.default=u.exports}});
//# sourceMappingURL=10.fc20d7e2bd410b013122.js.map