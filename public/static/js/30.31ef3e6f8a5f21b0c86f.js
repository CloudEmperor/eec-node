webpackJsonp([30],{"5Brq":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),s=a.n(i),l=a("WCPx"),n=a.n(l),r={props:["funClick"],watch:{funClick:function(e,t){if(null!=e.indicator){this.datas.legendBar=e.yearList;var a=[];a.push(e.yearVal),a.push(e.lastYearVal),a.push(e.beforeLastYearVal),this.datas.yAxis=a,this.datas.lines=a;var i=[];e.indicator.forEach(function(e){i.push(e.name)}),this.datas.xAxis=i,this.myData()}}},data:function(){return{chart:null,seriesArr:[],legendArr:[],symbol:"%",datas:{id:"multipleBarsLines",title:"近三年学生达成情况趋势",legendBar:[],symbol:"",xAxis:[],yAxis:[],lines:[],barColor:["#3FA7DC","#7091C4","#5170A2"],lineColor:["#638862","#DA8084","#333"]}}},mounted:function(){this.$nextTick(function(){})},methods:{func_click5:function(){this.datas.legendBar=this.funClick.yearList,this.myData()},myData:function(){var e=this,t=this,a=t.datas.yAxis||[],i=t.datas.lines||[],s=t.datas.legendBar||[],l=t.datas.legendLine||[],n=t.datas.symbol||" ";a&&a.forEach(function(a,i){e.legendArr.push({name:s&&s.length>0&&s[i]}),e.seriesArr.push({name:s&&s.length>0&&s[i],type:"bar",barGap:"1px",data:a,barWidth:t.datas.barWidth||12,label:{normal:{show:!0,formatter:"{c}"+n,position:"top",textStyle:{color:"#414957",fontStyle:"normal",fontFamily:"微软雅黑",textAlign:"left",fontSize:14}}},itemStyle:{normal:{barBorderRadius:4,color:t.datas.barColor[i]}}})}),i&&i.forEach(function(a,i){e.legendArr.push({name:l&&l.length>0&&l[i]}),e.seriesArr.push({name:l&&l.length>0&&l[i],type:"line",data:a,itemStyle:{normal:{color:t.datas.lineColor[i],lineStyle:{width:3,type:"solid"}}},label:{normal:{show:!1,position:"top"}},symbol:"circle",symbolSize:10})}),this.initChart()},initChart:function(){var e=this;this.chart=n.a.init(document.getElementById("multipleBarsLines"));var t={backgroundColor:"#fff",title:{show:!0,text:e.datas.title,subtext:e.datas.subTitle,link:""},toolbox:{show:!0,feature:{saveAsImage:{show:!0,excludeComponents:["toolbox"],pixelRatio:2}}},tooltip:{trigger:"axis",formatter:function(t){var a="",i="",l=!0,n=!1,r=void 0;try{for(var c,o=s()(t);!(l=(c=o.next()).done);l=!0){var h=c.value;a=h.name.replace(/\n/g,"")+"<br/>","null"==h.data||null==h.data?i+=h.seriesName+"：无数据<br/>":i+=h.seriesName+"："+h.data+e.datas.symbol+"%<br/>"}}catch(e){n=!0,r=e}finally{try{!l&&o.return&&o.return()}finally{if(n)throw r}}return a+i},axisPointer:{type:"none"}},legend:{right:this.datas.legendRight||"30%",top:12,itemGap:16,itemWidth:10,itemHeight:10,data:this.legendArr,textStyle:{color:"#414957",fontStyle:"normal",fontFamily:"微软雅黑",fontSize:12}},grid:{x:30,y:80,x2:30,y2:60},xAxis:{type:"category",data:this.datas.xAxis,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,interval:"0",textStyle:{lineHeight:16,padding:[2,2,0,2],height:50,fontSize:12},rich:{Sunny:{height:50,padding:[0,5,0,5],align:"center"}},formatter:function(e,t){var a="",i=5,s=e&&e.length;s&&s<=4?i=4:s>=5&&s<=7?i=4:s>=8&&s<=9?i=5:s>=10&&s<=14?i=5:e=e&&e.slice(0,15);var l=i,n=Math.ceil(s/l)||0;if(s>l)for(var r=0;r<n;r++){var c=r*l,o=c+l;a+=r==n-1?e.substring(c,s):e.substring(c,o)+"\n"}else a=e;return"{Sunny|"+(e=a)+"}"},color:"#687284"}},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!0,lineStyle:{color:"#F1F3F5",type:"solid"},interval:3},splitNumber:4},series:this.seriesArr};this.chart.setOption(t)}}},c={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"className",staticStyle:{height:"500px"},attrs:{id:"multipleBarsLines"}})},staticRenderFns:[]},o=a("C7Lr")(r,c,!1,null,null,null).exports,h=a("kSQ0"),v=a("YWmw"),u=a("dkSs"),d={components:{echarts:o,echarts1:h.a,echarts2:v.a,echarts3:u.a},data:function(){return{show:!0,falg:!1,falg1:!1,falg2:!1,falg3:!1,falge:!1,falge1:!1,cities:[],value:"",cities1:[],value1:"",cities2:[],value2:"",cities3:[],value3:"",cities4:[],value4:"",cities5:[],value5:"",cities6:[],value6:"",str:"",func_click:{},xin:{},pointList:[],target:{},lilist:["专业达成度","班级达成度","学生达成度"],activeClass:0,pointNames:"",courseName:""}},methods:{grades:function(){var e=this;this.$get("/basic/achieve/grades").then(function(t){e.cities=t.data})},claims:function(){var e=this;this.str=this.value,this.$get("/basic/achieve/claims/"+this.value).then(function(t){e.cities1=t.data,e.cities1.unshift({id:"",name:"全部"})}),this.courseClass()},points:function(){var e=this;this.$get("/basic/achieve/points/"+this.value1).then(function(t){e.cities2=t.data,e.cities2.unshift({id:"",name:"全部"})})},courseClass:function(){var e=this;this.$get("/basic/courseClassification/all").then(function(t){e.cities3=t.data,e.cities3.unshift({id:"",name:"全部"})})},classify:function(){var e=this;this.$get("/basic/achieve/courses/grade/"+this.str+"/classify/"+this.value3).then(function(t){e.cities4=t.data,e.cities4.unshift({id:"",name:"全部"})})},allClass:function(){var e=this;this.$get("/basic/achieve/allClass").then(function(t){e.cities5=t.data,e.cities5.unshift({id:"",name:"全部"})})},allStudent:function(){var e=this;this.$get("/basic/achieve/allStudent").then(function(t){e.cities6=t.data,e.cities6.unshift({id:"",name:"全部"})})},calculate:function(){var e=this,t={grade:this.value,claimID:this.value1,pointID:this.value2,courseID:this.value4,classID:this.value5,studentID:this.value6};console.log(t,"key"),""==t.claimID&&""==t.pointID&&""==t.courseID&&""==t.studentID&&""!==t.grade&&""==t.classID?(this.falg=!0,this.falg1=!0,this.show=!1):""!==t.claimID&&""!==t.grade&&""!==t.courseID?(this.falg=!1,this.falg1=!1,this.falg2=!0,this.falg3=!0,this.show=!1):""!==t.claimID&&""!==t.grade?(this.falg=!1,this.falg1=!1,this.falg2=!0,this.falg3=!1,this.show=!1):""!==t.claimID&&""!==t.grade&&""!==t.pointID&&""!==t.courseID?(this.falg=!1,this.falg1=!1,this.falg2=!0,this.falg3=!0,this.show=!1):""!==t.grade&&""!==t.courseID&&(this.falg=!1,this.falg1=!1,this.falg2=!1,this.falg3=!0,this.show=!1),this.$post("/basic/achieve/analysis",t).then(function(t){if(console.log(t,"计算结果"),1==t.status){null==t.data.claimAchieve?e.func_click=null:e.func_click=t.data.claimAchieve,null==t.data.courseAchieve?e.xin=null:(e.xin=t.data.courseAchieve,e.courseName=e.xin.courseName),e.pointList=t.data.pointAchieveList,e.target=t.data.claimAchieve;e.pointList.forEach(function(t){e.pointList.length>1||(e.pointNames=t.pointName)})}})},jump:function(e){this.activeClass=e,0==e?(this.falge=!1,this.falge1=!1):1==e?(this.falge=!1,this.falge1=!0):2==e&&(this.falge=!0,this.falge1=!0)}},mounted:function(){this.grades(),this.allClass(),this.allStudent()}},f={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"DegreeAchievement padding students"},[i("div",[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/Calculate/DegreeAchievement"}}},[e._v("达成度计算分析")]),e._v(" "),i("el-breadcrumb-item",[e._v("\n        达成度分析\n      ")])],1)],1),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"DegreeAchievement-dv4"},[i("ul",e._l(e.lilist,function(t,a){return i("li",{key:a,ref:"menuItem",refInFor:!0,class:e.activeClass==a?"bor":"",on:{click:function(t){return e.jump(a)}}},[e._v(e._s(t))])}),0)]),e._v(" "),i("div",{staticClass:"dv"},[i("div",{staticClass:"DegreeAchievement-dv5",staticStyle:{width:"100%"},attrs:{span:24}},[i("el-col",{attrs:{span:4.5}},[i("div",{staticStyle:{float:"left"}},[i("span",[e._v("年级：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择年级"},on:{change:e.claims},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.cities,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}),1),e._v("  \n        ")],1)]),e._v(" "),i("el-col",{attrs:{span:5.5}},[i("div",{staticStyle:{float:"left"}},[i("span",[e._v("毕业要求：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请先选择年级"},on:{change:e.points},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.cities1,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v("  \n        ")],1)]),e._v(" "),i("el-col",{attrs:{span:6.5}},[i("div",{staticStyle:{float:"left"}},[i("span",[e._v("毕业要求指标点：")]),e._v(" "),i("el-select",{attrs:{placeholder:"指标点1-3"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.cities2,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)])],1),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("div",{staticClass:"DegreeAchievement-dv6"},[i("div",{staticStyle:{float:"left"}},[i("span",[e._v("课程分类：")]),e._v(" "),i("el-select",{attrs:{placeholder:"分类名称"},on:{change:e.classify},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}},e._l(e.cities3,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v("  \n        ")],1),e._v("\n         \n      \n        "),i("div",{staticStyle:{float:"left"}},[i("span",[e._v("课程名称：")]),e._v(" "),i("el-select",{attrs:{filterable:"",placeholder:"请先选择课程分类"},model:{value:e.value4,callback:function(t){e.value4=t},expression:"value4"}},e._l(e.cities4,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v("  \n        ")],1),e._v(" "),i("div",{staticStyle:{float:"left"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.falge1,expression:"falge1"}]},[e._v("班级：")]),e._v(" "),i("el-select",{directives:[{name:"show",rawName:"v-show",value:e.falge1,expression:"falge1"}],attrs:{placeholder:"班级名称"},model:{value:e.value5,callback:function(t){e.value5=t},expression:"value5"}},e._l(e.cities5,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v("  \n        ")],1),e._v(" "),i("div",{staticStyle:{float:"left"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.falge,expression:"falge"}]},[e._v("学生：")]),e._v(" "),i("el-select",{directives:[{name:"show",rawName:"v-show",value:e.falge,expression:"falge"}],attrs:{placeholder:"姓名",filterable:""},model:{value:e.value6,callback:function(t){e.value6=t},expression:"value6"}},e._l(e.cities6,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)]),e._v(" "),i("div",{staticClass:"classManagement-btn"},[i("el-button",{attrs:{type:"primary"},on:{click:e.calculate}},[e._v("计算结果")])],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[i("img",{staticStyle:{width:"33%","margin-right":"141px"},attrs:{src:a("K8gH"),alt:""}}),e._v(" "),e._m(1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.falg,expression:"falg"}],staticClass:"DegreeAchievement-dv7"}),e._v(" "),i("div",{}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.falg1,expression:"falg1"}],staticClass:"DegreeAchievement-dv7"},[e._v("\n      毕业要求达成度分析\n  ")]),e._v(" "),i("div",{staticStyle:{background:"#fff"}},[i("echarts1",{directives:[{name:"show",rawName:"v-show",value:e.falg1,expression:"falg1"}],attrs:{targets:e.target}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.falg2,expression:"falg2"}],staticClass:"DegreeAchievement-dv7"},[e._v("\n      毕业要求 "+e._s(e.pointNames)+" 达成度情况分析\n  ")]),e._v(" "),i("div",{staticStyle:{background:"#fff"}},[i("echarts2",{directives:[{name:"show",rawName:"v-show",value:e.falg2,expression:"falg2"}],attrs:{pointLists:e.pointList}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.falg3,expression:"falg3"}],staticClass:"DegreeAchievement-dv7"},[e._v("\n      "+e._s(e.courseName)+"课程达成度\n  ")]),e._v(" "),i("div",{},[i("echarts3",{directives:[{name:"show",rawName:"v-show",value:e.falg3,expression:"falg3"}],attrs:{xinxi:e.xin}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"DegreeAchievement-dv2"},[t("span"),this._v(" "),t("em",{staticClass:"DegreeAchievement-em"},[this._v("达成度分析")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{margin:"0 auto",width:"39%","margin-top":"-23px"}},[t("span",{staticStyle:{display:"block","font-size":"20px",color:"#666","text-align":"left"}},[this._v("1、选择、年级、查询十二项指标点")]),this._v(" "),t("span",{staticStyle:{display:"block","font-size":"20px",color:"#666","text-align":"left"}},[this._v("2、选择、年级、毕业要求、查询该毕业要求下的所有达成度分析")]),this._v(" "),t("span",{staticStyle:{display:"block","font-size":"20px",color:"#666","text-align":"left"}},[this._v("3、选择、年级、毕业要求、毕业要求指标点、查询当前指标点的信息")]),this._v(" "),t("span",{staticStyle:{display:"block","font-size":"20px",color:"#666","text-align":"left"}},[this._v("4、选择、年级、课程分类、课程名称、查询该课程信息")])])}]};var g=a("C7Lr")(d,f,!1,function(e){a("9ksP")},"data-v-47ad9d44",null);t.default=g.exports},"9ksP":function(e,t){},K8gH:function(e,t,a){e.exports=a.p+"static/img/studentLearning.dae00d8.png"}});
//# sourceMappingURL=30.31ef3e6f8a5f21b0c86f.js.map